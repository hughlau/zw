<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>运维任务</title>
    <script src="../../resources/scripts/boot.js" type="text/javascript"></script>
    <script src="../scripts/page.js" type="text/javascript"></script> 
    <script src="operationsTaskList.htm.js" type="text/javascript"></script>
</head>
<body isloaduserinfo="1" >
    <div class="mini-toolbar" style="border-width: 0px 0px 1px 0px;">
        <div id="conditionForm" class="form">
            <table style="width: 100%;">
                <tr>
                    <td id="functionList" style="width: 100%; white-space: nowrap; text-align: left;">
                        <a id="buttonAdd" class="mini-button" iconcls="icon-add">增加</a> <a id="buttonEdit"
                            class="mini-button" iconcls="icon-edit">修改</a> <a id="buttonDelete" class="mini-button"
                                iconcls="icon-remove">删除</a> <a id="buttonFeedback" class="mini-button" iconcls="icon-edit">
                                    反馈</a>
                    </td>
                </tr>
                <tr>
                    <td style="width: 100%; white-space: nowrap; text-align: left;">
                        <input class="mini-treeselect " selectonfocus="true" style="width: 140px;" id="cantonCode"
                            name="cantonCode" textfield="name" valuefield="code" parentfield="pCode" expandonload="0"
                            onvaluechanged="" />
                        故障时间：
                        <input name="dStart" id="mCallTimeFrom" class="mini-datepicker" selectonfocus="true"
                            nullvalue="null" format="yyyy-MM-dd" showtime="false" showokbutton="true" showclearbutton="false"
                            emptytext="开始时间..." ondrawdate="onDrawStartDate" style="width: 140px;" onvaluechanged="" />
                        <span>至</span>
                        <input name="dEnd" id="mCallTimeTo" class="mini-datepicker" selectonfocus="true"
                            nullvalue="null" format="yyyy-MM-dd" showtime="false" showokbutton="true" showclearbutton="false"
                            emptytext="结束时间..." ondrawdate="onDrawEndDate" style="width: 140px;" onvaluechanged="" />
                    </td>
                    <td style="width: 100%; white-space: nowrap; text-align: right;">
                        <input id="keyWord" name="keyWord" class="mini-textbox" selectonfocus="true" emptytext="请输入现场设备、设备编码或厂区名称"
                            style="width: 200px;" onenter="onSearch();" />
                        <a class="mini-button" iconcls="icon-search" id="btnSearch">查询</a> <a class="mini-button"
                            iconcls="icon-add" id="btnExSearch">高级查询</a>
                        <a class="mini-button" iconcls="icon-download" id="export" onclick="dataExport();">导出</a>
                    </td>
                </tr>
                <tr class="exSearch">
                    <td style="width: 100%; white-space: nowrap; text-align: left;" colspan="2">
                        高级查询：
                    </td>
                </tr>
                <tr class="exSearch">
                    <td style="width: 100%; white-space: nowrap; text-align: left;" colspan="2">
                        <input id="cmbTaskStatus" class="mini-combobox" style="width: 120px;" textfield="name"
                               name="taskStatus" valuefield="code" shownullitem="true" nullitemtext="任务状态" emptytext="任务状态"
                               onvaluechanged="" />
                        <input id="cmbIsAlarm" class="mini-combobox" style="width: 130px;" textfield="name"
                               name="isAlarm" valuefield="code" shownullitem="true" nullitemtext="是否报警生成" emptytext="是否报警生成"
                               onvaluechanged="" />
                        <!--<input id="cmbisSolve" class="mini-combobox" style="width: 120px;" textfield="name"
                               name="isSolve" valuefield="code" shownullitem="true" nullitemtext="是否解决" emptytext="是否解决"
                               onvaluechanged="" />-->
                        <input id="cmbFaultType" class="mini-combobox" style="width: 120px;" textfield="name"
                               name="faultType" valuefield="code" shownullitem="true" nullitemtext="故障类型" emptytext="故障类型"
                               onvaluechanged="" />
                        <input id="taskType" class="mini-combobox" style="width: 120px;" textfield="name"
                               name="taskType" valuefield="code" shownullitem="true" nullitemtext="任务类型" emptytext="任务类型"
                               onvaluechanged="" />
                        <input id="operationMaintenancePersonCode" name="TaskOMPersonCode" class="mini-buttonedit "
                               onclick="onButtonChoosePerson" style="width:120px;" emptyText="运维人员..." />
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="mini-fit">
        <div id="datagrid1" class="mini-datagrid" style="width: 100%; height: 100%; border: 0;"
            borderstyle="border-width: 0px;" fitcolumns="false" sizelist="[50,100,500]" pagesize="10"
            frozenstartcolumn="0" frozenendcolumn="3" sortorder="desc" multiselect="true"
            onbeforeload="datagrid1_BeforeLoad" sortfield="faultTime">
            <div property="columns">
                <div type="checkcolumn" width="40">
                </div>
                <div type="indexcolumn" width="60" headeralign="center">
                    序号
                </div>
                <div field="monitorSiteName" width="120px" headeralign="center" renderer="dataGrid_Renderer">
                    现场设备编码</div>
                <div field="equipmentNo" width="120px" headeralign="center">
                    设备编码</div>
                <div field="operationMaintenanceTaskName" width="180px" headeralign="center" renderer="dataGrid_Renderer">
                    任务名称</div>
                <div field="taskTypeName" width="120px" headeralign="center" align="center" allowsort="true">
                    任务类型</div>
                <div field="faultTypeName" width="120px" headeralign="center" align="center" allowsort="true">
                    故障类型</div>
                <div field="faultTime" width="160px" headeralign="center" align="left" renderer="dataGrid_Renderer"
                    allowsort="true">
                    故障时间</div>
                <div field="cantonName" width="120px" headeralign="center" allowsort="true">
                    厂区</div>
                <div field="prescribeRepairTime" name="prescribeRepairTime" width="160px" headeralign="center" align="left"
                    allowsort="true" renderer="dataGrid_Renderer">
                    规定修复时间</div>
                <div field="operationMaintenanceUnitName" width="130px" headeralign="center" align="center">
                    运维单位</div>
                <div field="operationMaintenancePersonName" name="operationMaintenancePersonName" width="120" headeralign="center" align="center" allowsort="true">
                    运维人员</div>
                <div field="taskStatusName" width="100px" headeralign="center" align="center" allowsort="true">
                    任务状态</div>
                       <div field="faultTimeInterval" width="100px" headeralign="center" align="center" allowsort="true">
                    掉线时间段</div>
                       <div field="faultTimeTotal" width="100px" headeralign="center" align="center" allowsort="true">
                    掉线时长</div>
                <div field="monitorSiteAlarmCode" width="100px" headeralign="center" align="center"
                    renderer="dataGrid_Renderer">
                    是否报警生成</div>
                <!--<div field="isSolve" name="isSolve" width="100px" headeralign="center" align="center" renderer="dataGrid_Renderer"
                    allowsort="true">
                    是否解决</div>
                     <div field="repairTime" width="100px" headeralign="center" align="center" 
                    allowsort="true">
                    解决时间</div>-->
                <div field="detail" width="100px" headeralign="center" align="center" renderer="dataGrid_Renderer">
                    运维表单</div>
                     <div field="GPS" width="100px" headeralign="center" align="center">
                    运维地址</div>
                     <div field="remark" width="100px" headeralign="center" align="center">
                    运维情况说明</div>
                    <!-- <div field="imgName" width="100px" headeralign="center" align="center">
                    运维图片</div>-->

            </div>
        </div>
        <div id='calendar' style="width: 80%; margin: 0 auto; display: none;">
        </div>
    </div>
</body>
</html>
