<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>报警列表</title>
    <script src="../../resources/scripts/boot.js" type="text/javascript"></script>
    <script src="../scripts/page.js" type="text/javascript"></script>
    <script src="../operationMaintenance/OperationMaintenancePage.js" type="text/javascript"></script>
    <script src="monitorSiteAlarmList.htm.js" type="text/javascript"></script>
</head>
<body isloaduserinfo="1">
    <div class="mini-toolbar" style="border-width: 0px 0px 1px 0px;">
        <div id="conditionForm" class="form">
            <table style="width: 100%;">
                <tr>
                    <td id="functionList" style="width: 100%; white-space: nowrap;">
                        <a id="buttonGenerateTask" class="mini-button" iconcls="icon-edit" data-options="{minSelectedCount:1,maxSelectedCount:1}">
                            生成任务</a> <a id="buttonIsSolve" class="mini-button" iconcls="icon-edit" data-options="{minSelectedCount:1,maxSelectedCount:1}">
                                解决</a>
                    </td>
                    </tr>
                   <tr>
                    <td style="width: 100%; white-space: nowrap; text-align: right;">
                        <input class="mini-treeselect " selectonfocus="true" style="width: 120px;" id="cantonCode"
                            name="cantonCode" textfield="name" valuefield="code" parentfield="pCode" expandonload="0" />
                        <input name="dStart" id="mCallTimeFrom" class="mini-datepicker" selectonfocus="true"
                            nullvalue="null" format="yyyy-MM-dd" showtime="false" showokbutton="true" showclearbutton="false"
                            emptytext="开始时间..." ondrawdate="onDrawStartDate" style="width: 120px;" onvaluechanged="onSearch();" />
                        <span>至</span>
                        <input name="dEnd" id="mCallTimeTo" class="mini-datepicker" selectonfocus="true"
                            nullvalue="null" format="yyyy-MM-dd" showtime="false" showokbutton="true" showclearbutton="false"
                            emptytext="结束时间..." ondrawdate="onDrawEndDate" style="width: 120px;" onvaluechanged="onSearch();" />
                        <input id="cmbIsSolve" class="mini-combobox" style="width: 100px;" textfield="name"
                            name="isSolve" valuefield="code" shownullitem="true" nullitemtext="是否解决 " emptytext="是否解决..."
                            onvaluechanged="onSearch();" />
                        <!-- <input id="cmbIsGenerateTask" class="mini-combobox" style="width: 100px;" textfield="name"
                            name="isGenerateTask" valuefield="code" shownullitem="true" nullitemtext="是否生成任务 "
                            emptytext="是否生成任务..." onvaluechanged="onSearch();" />-->
                        <input id="cmbFaultType" class="mini-combobox" style="width: 120px;" name="faultType"
                            textfield="name" valuefield="code" shownullitem="true" nullitemtext="故障类型" emptytext="请选择报警类型..."
                            onvaluechanged="onSearch();" />
                        <input id="keyword" name="keyword" class="mini-textbox" selectonfocus="true" emptytext="请输入现场设备、设备编码或厂区名称"
                            style="width: 200px;" onenter="onSearch();" />
                        <a class="mini-button" iconcls="icon-search" id="btnSearch">查询</a>
                        <a class="mini-button" iconcls="icon-download" id="export" onclick="dataExport();">导出</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="mini-fit">
        <div id="datagrid1" class="mini-datagrid" style="width: 100%; height: 100%;" borderstyle="border-width: 0px;"
            pagesize="20" sizelist="[20,50,100]" fitcolumns="false" multiselect="true" onbeforeload="datagrid1_BeforeLoad"
            onselectionchanged="datagrid1_SelectionChanged">
            <div property="columns">
                <div type="indexcolumn" width="60px">
                </div>
                <div type="checkcolumn" width="60px">
                </div>
                <div field="cantonName" width="120px" headeralign="center" allowsort="true">
                    厂区</div>
                <div field="monitorSiteName" width="180px" headeralign="center" renderer="dataGrid_Renderer">
                    现场设备编码</div>
                <div field="equipmentNo" width="180px" headeralign="center">
                    设备编码</div>
                <div field="monitorSiteAlarmName" width="180px" headeralign="center" renderer="dataGrid_Renderer">
                    报警名称</div>
                <div field="alarmTime" width="160px" headeralign="center" align="left" allowsort="true">
                    报警时间</div>
                <div field="alarmTypeName" width="120px" headeralign="center" align="center">
                    报警类型</div>
                <div field="description" width="120px" headeralign="center" align="center">
                    描述</div>
                <div field="isGenerateTask" width="100px" headeralign="center" align="center" renderer="dataGrid_Renderer"  allowsort="true">
                    是否生成任务</div>
                <div field="isSolve" width="100px" headeralign="center" align="center" renderer="dataGrid_Renderer"
                    allowsort="true">
                    是否解决</div>
            </div>
        </div>
    </div>
</body>
</html>
