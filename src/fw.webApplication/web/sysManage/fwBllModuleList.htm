<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>系统模块管理</title>
    <script src="../../resources/scripts/boot.js" type="text/javascript"></script>
    <script src="../scripts/page.js" type="text/javascript"></script>
    <script src="fwBllModuleList.htm.js" type="text/javascript"></script>
</head>
<body>
    <div class="mini-toolbar" style="border-width: 0px 0px 1px 0px;">
        <div id="conditionForm" class="form">
            <table style="width: 100%;">
                <tr>
                    <td id="functionList" style="width: 100%; white-space: nowrap; text-align: left;">
                        <a class="mini-button" iconcls="icon-add" onclick="insertRow('insert','-fw-');">增加根节点</a>
                        <a class="mini-button" iconcls="icon-add" onclick="insertRow('insert');">增加子节点</a>
                        <a class="mini-button" iconcls="icon-remove" onclick="del();">删除</a><span class="separator"></span><a
                            id="insertOrUpdate" class="mini-button" iconcls="icon-edit" onclick="insertOrUpdate();">
                            保存</a> <span class="separator"></span>
                        <a id="btnSyncModule" class="mini-button" iconcls="icon-download" onclick="syncModule();">
                                同步模块</a>
                        <a id="btnSyncFunction" class="mini-button" iconcls="icon-download" onclick="syncFunction();">
                                同步功能</a>
                    </td>
                    <td style="white-space: nowrap; text-align: right;">
                        <input id="keyword" emptytext="请输入模块名称..." name="keyword" class="mini-textbox" selectonfocus="true"
                            style="width: 160px;" onenter="onSearch();" />
                        <a class="mini-button" iconcls="icon-search" plain="true" onclick="onSearch();">查询</a>
                        <a id="select" class="mini-button" style="display: none;" iconcls="icon-add" onclick="select();">
                            选择</a> <a id="selectClear" class="mini-button" style="display: none;" iconcls="icon-add"
                                onclick="selectClear();">清除</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="mini-fit">
        <div id="treegrid1" class="mini-treegrid" style="width: 100%; height: 100%;" borderstyle="border-width: 0px;"
            multiselect="true" showcolumnsmenu="true" frozenstartcolumn="0" frozenendcolumn1="1"
            ondrop="treegrid1_Drop" showtreeicon="true" treecolumn="mBllModuleName" idfield="mBllModuleCode"
            parentfield="mPBllModuleCode" resultastree="true" expandonload="true" onbeforeload="treegrid1_BeforeLoad"
            allowcelledit="true" allowcellselect="true" onselectionchanged="treegrid1_SelectionChanged"
            allowdrag="true" allowdrop="true" allowleafdropin="true" sortfield="mIx" sortorder="asc"
            pagesize="20">
            <div property="columns">
                <div type="indexcolumn" width="24">
                </div>
                <div type="checkcolumn" width="36">
                </div>
                <div field="mDataID" width="150" headeralign="center" align="left" visible="false">
                    数据ID</div>
                <div field="mPBllModuleCode" width="120" headeralign="center" align="left" vtype1="required"
                    visible="false">
                    父级模块编码
                    <!--   <input property="editor" class="mini-textbox" selectonfocus="true" maxlength="36"
                        style="width: 100%;" />-->
                </div>
                <div name="mBllModuleCode" field="mBllModuleCode" width="120" headeralign="center"
                    align="left" allowsort="true" vtype="required">
                    模块编码
                    <input property="editor" class="mini-textbox" selectonfocus="true" maxlength="36"
                        style="width: 100%;" />
                </div>
                <div name="mBllModuleName" field="mBllModuleName" width="120" headeralign="center"
                    align="left" allowsort="true" vtype="required">
                    模块名称
                    <input property="editor" class="mini-textbox" selectonfocus="true" maxlength="36"
                        style="width: 100%;" />
                </div>
                <div field="mRem" width="120" headeralign="center" align="left">
                    描述
                    <input property="editor" class="mini-textbox" selectonfocus="true" maxlength="36"
                        style="width: 100%;" />
                </div>
                <div field="mIx" width="48" headeralign="center" align="center" allowsort="true"
                    vtype="required">
                    顺序
                    <input property="editor" class="mini-spinner" selectonfocus="true" minvalue="1" maxvalue="100"
                        style="width: 100%;" />
                </div>
                <div type="checkboxcolumn" field="mIsDis" truevalue="1" falsevalue="0" width="36"
                    headeralign="center">
                    停用</div>
            </div>
        </div>
    </div>
    <div style="text-indent: 2em; color: Red; line-height: 24px; border-top: 1px solid #999999;">
        注：节点的移动可以通过鼠标拖动序号列实现
    </div>
</body>
</html>
