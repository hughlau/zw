<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>定时任务</title>
    <script src="../../resources/scripts/boot.js" type="text/javascript"></script>
    <script src="../scripts/page.js" type="text/javascript"></script>
    <script src="fwTimingTaskList.htm.js" type="text/javascript"></script>
</head>
<body>
    <div class="mini-toolbar" style="border-width: 0px 0px 1px 0px;">
        <div id="conditionForm" class="form">
            <table style="width: 100%;">
                <tr>
                    <td id="functionList" style="width: 100%; white-space: nowrap; text-align: left;">
                        <a class="mini-button" iconcls="icon-add" onclick="openInfo('insert');" plain="false">
                            增加</a> <a class="mini-button" iconcls="icon-edit" data-options="{minSelectedCount:1,maxSelectedCount:1}"
                                plain="false" onclick="openInfo('update');">修改</a> <a class="mini-button" iconcls="icon-remove"
                                    data-options="{minSelectedCount:1}" onclick="deleteMTimingTaskCode();" plain="false">
                                    删除</a>
                    </td>
                    <td style="white-space: nowrap; text-align: right;">
                        <input id="mTimingTypeCode" name="mTimingTypeCode" class="mini-combobox" selectonfocus="true"
                            valuefield="code" textfield="name" emptytext="定时类型..." />
                        <input id="mTaskTypeCode" name="mTaskTypeCode" class="mini-combobox" selectonfocus="true"
                            valuefield="code" textfield="name" emptytext="任务类型..." />
                        <input id="keyword" name="keyword" class="mini-textbox" style="width: 160px;" emptytext="请输入任务名称..."
                            selectonfocus="true" maxlength="36" onenter="onSearch();" />
                        <a class="mini-button" iconcls="icon-search" plain="true" onclick="onSearch()">查询</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="mini-fit">
        <div id="timeTaskGrid" class="mini-datagrid" style="width: 100%; height: 100%;" borderstyle="border-width: 0px;"
            idfield="objID" multiselect="true" showcolumnsmenu="true" frozenstartcolumn="0"
            onbeforeload="timeTaskGrid_BeforeLoad" sortorder="asc" pagesize="20" onselectionchanged="datagrid1_SelectionChanged">
            <div property="columns">
                <div type="indexcolumn" width="40">
                </div>
                <div type="checkcolumn" width="40">
                </div>
                <div field="mTimingTaskCode" width="150" headeralign="center" align="center" visible="false">
                    任务编码
                </div>
                <div field="mTimingTaskName" width="150" headeralign="center" align="left" allowsort="true"
                    renderer="timeTaskGrid_Renderer">
                    任务名称
                </div>
                <div field="mTaskTypeCode" width="100" headeralign="center" align="center" allowsort="true"
                    visible="false">
                    任务类型编码
                </div>
                <div field="mTaskTypeCode" width="100" headeralign="center" align="center" allowsort="true"
                    renderer="timeTaskGrid_Renderer">
                    任务类型名称
                </div>
                <div field="mTimingTypeCode" width="100" headeralign="center" align="center" allowsort="true"
                    visible="false">
                    定时类型编码
                </div>
                <div field="mTimingTypeCode" width="100" headeralign="center" align="center" allowsort="true"
                    renderer="timeTaskGrid_Renderer">
                    定时类型
                </div>
                <div field="mTimingTime" width="150" headeralign="center" align="left">
                    执行时间
                </div>
                <div field="mLastSuccessExecuteTime" width="100" headeralign="center" align="center"
                    renderer="timeTaskGrid_Renderer">
                    最后成功执行时间
                </div>
                <div field="mIx" width="60" headeralign="center" align="center" allowsort="true">
                    排序
                </div>
                <div field="mIsDis" width="80" headeralign="center" renderer="timeTaskGrid_Renderer"
                    align="center">
                    停用状态
                </div>
            </div>
        </div>
    </div>
    <div id="editWindow" class="mini-window" title="任务管理" style="width: 550px; height: 500px"
        showmodal="true" allowresize="true" allowdrag="true">
    </div>
</body>
</html>
