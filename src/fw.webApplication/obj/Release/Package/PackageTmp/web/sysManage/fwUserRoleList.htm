<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>角色管理</title>
    <script src="../../resources/scripts/boot.js" type="text/javascript"></script>
    <script src="../scripts/page.js" type="text/javascript"></script>
    <script src="fwUserRoleList.htm.js" type="text/javascript"></script>
</head>
<body>
    <div class="mini-toolbar" style="border-width: 0px 0px 1px 0px;">
        <div id="conditionForm" class="form">
            <table style="width: 100%;">
                <tr>
                    <td id="functionList" style="width: 100%; white-space: nowrap; text-align: left;">
                        <a class="mini-button" iconcls="icon-add" onclick="openInfo('insert','-fw-');">增加根节点</a>
                        <a class="mini-button" iconcls="icon-add" onclick="openInfo('insert');" data-options="{minSelectedCount:1,maxSelectedCount:1}">
                            增加子节点</a> <a id="btnAync" class="mini-button" iconcls="icon-download" onclick="syncOrganization();">
                                同步组织机构</a>
                        <!--<a class="mini-button" iconcls="icon-edit" onclick="openInfo('query');">查看</a>-->
                        <a class="mini-button" iconcls="icon-edit" onclick="openInfo('query');" data-options="{minSelectedCount:1,maxSelectedCount:1}">
                            修改</a> <a id="enable" class="mini-button" iconcls="icon-unlock" onclick="able(0);"
                                data-options="{minSelectedCount:1}">启用</a> <a id="disable" class="mini-button" iconcls="icon-lock"
                                    onclick="able(1);" data-options="{minSelectedCount:1}">停用</a> <a id="del" class="mini-button"
                                        iconcls="icon-remove" onclick="del();" data-options="{minSelectedCount:1}">删除</a>
                        <!-- <a id="openSetFunction" class="mini-button" iconcls="icon-add" onclick="openSetFunction();">
                            分配功能</a>-->
                             <a id="openSetMenu" class="mini-button" iconcls="icon-add" onclick="openSetMenu();">
                                分配菜单</a> <a id="openSetDictionary" class="mini-button" iconcls="icon-add" onclick="openSetDictionary();">
                                    分配字典</a>
                    </td>
                    <td style="white-space: nowrap; text-align: right;">
                        <a class="mini-button" iconcls="icon-search" plain="true" style="display: none;"
                            onclick="onSearch();">查询</a> <a id="select" class="mini-button" style="display: none;"
                                iconcls="icon-add" onclick="select();">选择</a> <a id="selectClear" class="mini-button"
                                    style="display: none;" iconcls="icon-add" onclick="selectClear();">清除</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="mini-fit">
        <div id="treegrid1" class="mini-treegrid" style="width: 100%; height: 100%;" borderstyle="border-width: 0px;"
            multiselect="true" showcolumnsmenu="true" frozenstartcolumn="0" frozenendcolumn="1"
            ondrop="treegrid1_Drop" showtreeicon="true" treecolumn="mRoleName" idfield="mRoleCode"
            onselectionchanged="datagrid1_SelectionChanged" parentfield="mPRoleCode" resultastree="true"
            expandonload="true" allowdrag="true" allowdrop="true" allowleafdropin="true"
            onselectionchanged="onSelectionChanged">
            <div property="columns">
                <div type="indexcolumn" width="40">
                </div>
                <div type="checkcolumn" width="40">
                </div>
                <div field="mDataID" width="150" headeralign="center" align="left" visible="false">
                    数据ID</div>
                <div field="mPRoleCode" width="150" headeralign="center" align="left" visible="false">
                    父级角色编码</div>
                <div field="mRoleCode" width="100" headeralign="center" align="left">
                    角色编码</div>
                <div name="mRoleName" field="mRoleName" width="100" headeralign="center" align="left"
                    renderer="treegrid1_Renderer">
                    角色名称</div>
                <div name="mEntry" field="mEntry" width="150" headeralign="center" align="left">
                    入口</div>
                <div field="mRem" width="150" headeralign="center" align="left" visible="false">
                    备注</div>
                <div field="mIx" width="60" headeralign="center" align="center">
                    顺序</div>
                <div field="mIsDis" width="60" headeralign="center" align="center" renderer="treegrid1_Renderer">
                    停用状态</div>
            </div>
        </div>
    </div>
    <div style="text-indent: 2em; color: Red; line-height: 24px; border-top: 1px solid #999999;">
        注：节点的移动可以通过鼠标拖动序号列实现
    </div>
</body>
</html>
