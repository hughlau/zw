<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>App日志</title>
    <script src="../../resources/scripts/boot.js" type="text/javascript"></script>
    <script src="../scripts/page.js" type="text/javascript"></script>
    <script src="fwAppLoginLogList.htm.js" type="text/javascript"></script>
</head>
<body>
    <div class="mini-toolbar" style="border-width: 0px 0px 1px 0px;">
        <div id="conditionForm" class="form">
            <table style="width: 100%;">
                <tr>
                    <td id="functionList" style="width: 100%; white-space: nowrap; text-align: left;">
                        <a class="mini-button" iconcls="icon-remove" onclick="del();">删除</a> <a class="mini-button"
                            iconcls="icon-edit" onclick="openInfo('query');" data-options="{minSelectedCount:1,maxSelectedCount:1}">
                            查看</a> <a class="mini-button" iconcls="icon-excel" onclick="onSearch({isExport:true, pageSize: fw.fwNumber.intMaxValue, pageIndex: 1});$.page.exportFile({idM:$.page.idM.datagrid1,reportName:'单点登录APP访问日志'});"
                                data-options="{minSelectedCount:1}">导出</a>
                        <input id="isShowIpInfo" class="mini-checkbox" selectonfocus="true" text="显示IP信息"
                            value="0" truevalue="1" falsevalue="0" data-options1="{minSelectedCount:-1}"
                            onvaluechanged="isShowIpInfo_onValueChanged" />
                    </td>
                    <td style="white-space: nowrap; text-align: right;">
                        <input id="mStatus" name="mStatus" class="mini-combobox" selectonfocus="true" valuefield="code"
                            textfield="name" emptytext="验证状态..." onenter="onSearch();" />
                        <input id="mUserID" name="mUserID" class="mini-buttonedit" selectonfocus="true" onbuttonclick="onMUserIDSelect"
                            allowinput="false" emptytext="用户..." onenter="onSearch();" />
                        <input name="mIp" class="mini-textbox" selectonfocus="true" emptytext="请输入IP" onenter="onSearch();" />
                        <input name="mCallTimeFrom" id="mCallTimeFrom" class="mini-datepicker" selectonfocus="true"
                            nullvalue="null" format="yyyy-MM-dd H:mm:ss" timeformat="H:mm:ss" showtime="true"
                            showokbutton="true" showclearbutton="false" emptytext="开始时间..." ondrawdate="onDrawDateBegin"
                            style="width: 160px;" onenter="onSearch();" />
                        <span>至</span>
                        <input name="mCallTimeTo" id="mCallTimeTo" class="mini-datepicker" selectonfocus="true"
                            nullvalue="null" format="yyyy-MM-dd H:mm:ss" timeformat="H:mm:ss" showtime="true"
                            showokbutton="true" showclearbutton="false" emptytext="结束时间..." ondrawdate="onDrawDateEnd"
                            style="width: 160px;" onenter="onSearch();" />
                        <a class="mini-button" iconcls="icon-search" selectonfocus="true" plain="true" onclick="onSearch();">
                            查询</a>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div class="mini-fit">
        <div id="datagrid1" class="mini-datagrid" style="width: 100%; height: 100%;" borderstyle="border-width: 0px;"
            idfield="objID" multiselect="true" showcolumnsmenu="true" frozenstartcolumn="0"
            frozenendcolumn="1" onbeforeload="datagrid1_BeforeLoad" onselectionchanged="datagrid1_SelectionChanged"
            pagesize="20">
            <div property="columns">
                <div type="indexcolumn" width="40">
                </div>
                <div type="checkcolumn" width="40">
                </div>
                <div field="mAppLoginLogCode" width="150" headeralign="center" align="left" visible="false">
                    系统日志编码</div>
                <div field="mCallTime" width="130" headeralign="center" align="center" renderer="datagrid1_Renderer"
                    allowsort="true">
                    调用时间</div>
                <div field="mStatus" width="100" headeralign="center" align="center" allowsort="true"
                    renderer="datagrid1_Renderer">
                    验证状态</div>
                <div field="mUseTime" width="100" headeralign="center" allowsort="true" renderer="datagrid1_Renderer">
                    用时(毫秒)</div>
                <div field="mUserName" width="100" headeralign="center" align="left">
                    用户</div>
                <div field="mIPAddress" width="120" headeralign="center">
                    IP地址</div>
                <div name="mLocation" field="mLocation" width="120" headeralign="center" visible="false">
                    IP所属地</div>
                <div field="mAppCode" width="120" headeralign="center">
                    系统编码</div>
                <div field="mAppName" width="120" headeralign="center">
                    App名称</div>
                <div field="mReferrerURL" width="120" headeralign="center">
                    Url来源</div>
                <div field="mAppRootDirectory" width="100" headeralign="center">
                    App根目录路径</div>
                <div field="mInfos" width="200" headeralign="center">
                    错误信息</div>
            </div>
        </div>
    </div>
</body>
</html>
